---
title: "[Network] 2. TCP/IP 4계층"
excerpt: "TCP/IP 4계층에 대해 알아보자."

categories: "network"
tags:
    - network
    - TCP/IP
toc: true  
toc_sticky: true
toc_label: "Contents In Page"
author_profile: true
use_math: true

date: 2024-04-26
---

## TCP/IP 4계층 (TCP/IP 프로토콜 스택)

- OSI 참조 모델은 말 그대로 참조 모델일 뿐 **실제 사용되는 인터넷 프로토콜**은 을 7계층 구조를 완전히 따르지는 않는다. **인터넷 프로토콜 스택(Internet Protocol Stack)은 현재 대부분 TCP/IP 를 따른다.**
- 즉, OSI 7계층 이론을 실제 사용하는 인터넷 표준이 바로 TCP/IP 4계층인 것이다.

![Untitled](/assets/images/Network/Untitled%2010.png){: .align-center}

![Untitled](/assets/images/Network/Untitled%2011.png){: .align-center}

- TCP/IP 는 인터넷 프로토콜 중 가장 중요한 역할을 하는 `TCP`와 `IP`의 합성어로 데이터의 흐름 관리, 정확성 확인, 패킷의 목적지 보장을 담당한다.
- **데이터의 정확성 확인은 TCP 가, 패킷을 목적지까지 전송하는 일은 IP 가 담당한다.**
- 데이터는 아래 그림과 같이 단계 별로 헤더(Data **→** Segment **→** Datagram **→** Frame)를 붙여 전송하며 이를 **데이터 캡슐화**라고 한다.

![Untitled](/assets/images/Network/Untitled%2012.png)

**1) 네트워크 인터페이스 계층 (Link Layer)**

- 물리적인 데이터의 전송을 담당하는 계층으로, 여기서는 인터넷 계층과 달리 같은 네트워크 안에서 데이터가 전송된다. 노드 간의 신뢰성 있는 데이터 전송을 담당하며, 논리적인 주소가 아닌 물리적인 주소인 MAC을 참조해 장비간 전송을 하고, 기본적인 에러 검출과 패킷의 Frame 화를 담당한다.
- 데이터 단위 : **프레임(Frame)**
- 전송 주소 : **MAC**
- 예시 : MAC, LAN, 패킷망 등에 사용되는 것(대표적으로 **Ethernet**)

**2) 인터넷 계층**

- 네트워크 상에서 데이터의 전송을 담당하는 계층으로 서로 다른 네트워크 간의 통신을 가능하게 하는 역할을 수행한다. (**연결성 제공**)
- 단말을 구분하기 위해 논리적인 주소로 IP 주소를 할당하게 되고 이 **IP 주소**로 네트워크 상의 컴퓨터를 식별하여 주소를 지정할 수 있도록 해준다.
- 네트워크끼리 연결하고 데이터를 전송하는 기기를 '**라우터**'라고 하며, 라우터에 의한 네트워크 간의 전송을 **'라우팅'**이라고 한다.
- 이 라우터가 내부의 라우팅 테이블(Routing Table)을 통해 경로 정보를 등록하여 **데이터 전송을 위한 최적의 경로**를 찾는데, 이렇게 출발지와 목적지 간의 데이터 전송 과정을 가리켜 End-to-End 통신이라고 부른다.
- 데이터 단위 : **패킷(Packet)**
- 전송 주소 : **IP**
- 예시 : IP, ARP, ICMP, RARP

**3) 전송 계층**

- **통신 노드 간의 데이터 전송 및 흐름에 있어 신뢰성을 보장**한다. 이는 다시 말해 데이터를 적절한 어플리케이션에 제대로 전달되도록 배분함을 의미하며 다른 말로 End-to-End의 신뢰성을 확보 한다고도 표현할 수 있다.
- 전송 계층에 사용되는 대표적인 프로토콜로는 **TCP** 와 **UDP** 가 있다.
- **TCP**는 연결 지향형 프로토콜로 패킷에 하나의 오류라도 있으면 재전송을 위해 에러를 복구하는 반면, **UDP**는 패킷을 중간에 잃거나 오류가 발생해도 이에 대처하지 않고 계속해서 데이터를 전송하는 TCP에 비해 간단한 구조를 가지는 프로토콜이란 차이가 있다.
- 데이터 단위 : **세그먼트(Segment)**
- 전송 주소 : **Port**
- 예시 : **TCP, UDP** 등

**4) 응용 계층**

- 사용자와 가장 가까운 계층으로 사용자-소프트웨어 간 소통을 담당하는 계층이다. 웹 프로그래밍을 하면서 흔히 접하는 여러 서버나 클라이언트 관련 응용 프로그램들이 동작하는 계층이다. 주로 **응용 프로그램(Application)들끼리 데이터를 교환**하기 위한 계층이다.
- 데이터 단위 : **데이터(Data) / 메세지(Message)**
- 예시 : 파일 전송, 이메일, FTP, **HTTP**, DNS, SMTP 등